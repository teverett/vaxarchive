<HTML>
<HEAD>
<TITLE>The VAX Network Booting HOWTO: APPENDIX B - Scripts for Linux</TITLE>
</HEAD>
<BODY>
<A HREF="VAX-netboot-HOWTO-8.html">Previous</A>
Next
<A HREF="VAX-netboot-HOWTO.html#toc9">Table of Contents</A>
<HR>
<H2><A NAME="appendix-b"></A> <A NAME="s9">9. APPENDIX B - Scripts for Linux</A></H2>


<P>
<PRE>
--- areths.csh ---
#!/bin/csh
# areths.csh -- A very brain-dead script for initializing a Linux system's
# ARP and RARP tables.
#
# /etc/ethers entries must be in the format
# &lt;hw ethernet address&gt; &lt;hostname&gt;
# Examples:
#
# aa:bb:cc:dd:0e:0f hostname1
#
#   is also equivalent to 
#
# aa:bb:cc:dd:e:f hostname1
#
# Any other format or extraneous information for /etc/ethers will confuse and
# break the script.  Don't even bother trying as it would be too easy.

# specify arp and rarp commands to use
set arp  = /sbin/arp
set rarp = /sbin/rarp

# get /etc/ethers contents, ignore comment lines
set etherlist = `grep -v &quot;^#&quot; /etc/ethers`

set i = 1
while ( $i &lt; $#etherlist )
  set eaddr = $etherlist[$i]
  @ i += 1
  set hname = $etherlist[$i]
  @ i += 1
  $arp  -s $hname $eaddr
  $rarp -s $hname $eaddr
end
# end of areths.csh
</PRE>
</P>


<P>
<PRE>
--- vaxboot-sysv.sh ---
#!/bin/sh
#
# vaxboot-sysv.sh  VAX bootserver components
# Author:          Brian Chase, &lt;bdc@world.std.com&gt;
#

# See how we were called.
case &quot;$1&quot; in
  start)
        echo &quot;Starting VAX bootserver...&quot;
        /usr/local/sbin/areths.csh &
        /usr/local/sbin/mopd -a
        /usr/local/sbin/bootparamd
        ;;
  stop)
        echo &quot;Shutting down VAX bootserver...&quot;
        /usr/bin/killall bootparamd
        /usr/bin/killall mopd
        ;;
  *)
        echo &quot;Usage: $0 {start|stop}&quot;
        exit 1
esac

exit 0
# end of vaxboot-sysv.sh
</PRE>
</P>


<P>
<PRE>
--- vaxboot-bsd.sh ---
#!/bin/sh
#
# vaxboot-bsd.sh  VAX bootserver components
# Author:         Brian Chase, &lt;bdc@world.std.com&gt;
#

echo &quot;Starting VAX bootserver...&quot;
/usr/local/sbin/areths.csh &
/usr/local/sbin/mopd -a
/usr/local/sbin/bootparamd

exit 0
# end of vaxboot-bsd.sh
</PRE>
</P>


<HR>
<A HREF="VAX-netboot-HOWTO-8.html">Previous</A>
Next
<A HREF="VAX-netboot-HOWTO.html#toc9">Table of Contents</A>
</BODY>
</HTML>
